---
title: "Final_Assignment"
author: "Leon Edmiidz, Zach Ribau"
date: "2024-02-20"
output: pdf_document
---

## HEADER

```{r}

##----------------------
### Load Libraries & Data
##-----------------------

#Define function to install libraries if not already installed on system
install_if_needed <- function(package_name) {
  if (!require(package_name, character.only = TRUE)) {
    install.packages(package_name)
    library(package_name, character.only = TRUE)
  }
}

#Create vector with required libraries
packages <- c("tidyverse", "ggplot2","lars", "caret", "ggplot2", "GGally")

#Loop over package vector and install and load libraries
for (pkg in packages) {
  install_if_needed(pkg)
}

#load in diabetes dataset
data("diabetes")
attach(diabetes)

#Combine matrices and include row ID
full_dataset = data.frame(cbind(diabetes$x, diabetes$x2, y = diabetes$y))

full_dataset <- full_dataset %>% mutate(row_id = row_number())

##----------------------
### Data Splitting
##----------------------

#Set seed prior to splitting 400 observations to a training set.
set.seed(1545)

n <- nrow(full_dataset)

#Randomly select 400 observations from the dataset
training_set <- full_dataset[sample(1:n, 400), ]

#Assign the testing as all observations not selected in the training_set
test_set <- full_dataset %>% 
  filter(!row_id %in% training_set$row_id)


```

```{r}

##----------------------
### Cross Validation
##----------------------

#Set x to all columns other than response and row_id
x <- as.matrix(training_set[, !(names(training_set) %in% c("y", "row_id"))])
y <- as.matrix(training_set$y)

lasso1 <- cv.glmnet(x, y, nfolds = 10, family = "gaussian", alpha = 1, type.measure = "mse")


```
